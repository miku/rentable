{% extends "base.html" %}

{% block scripts %}
    <script src="assets/OpenLayers-2.12/OpenLayers.js"></script>
    <script>
        $(document).ready(function() {
            map = new OpenLayers.Map("map");
            var mapnik         = new OpenLayers.Layer.OSM();
            var fromProjection = new OpenLayers.Projection("EPSG:4326");   // Transform from WGS 1984
            var toProjection   = new OpenLayers.Projection("EPSG:900913"); // to Spherical Mercator Projection
            var position       = new OpenLayers.LonLat(12.38, 51.34).transform(fromProjection, toProjection);
            var zoom           = 12;

            var pois = new OpenLayers.Layer.Text( "My Points",
                    { location:"{{ urlFor('locations') }}",
                      projection: map.displayProjection
                    });
            map.addLayer(pois);            

            map.addLayer(mapnik);
            map.setCenter(position, zoom);

        });
    </script>
{% endblock %}

{% block main %}
    <div class="unit span-grid">
        <p>
            Rentable is your premium source for lending just about everyting. There are
            currently {{ random(1000) }} items to lend, from houses to helicopters.
        </p>
    </div>
    <div class="unit span-grid">
        <div id="map"></div>
    </div>
{% endblock %}